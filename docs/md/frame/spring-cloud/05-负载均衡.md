负载均衡通过软件或者硬件的方式维护一个服务列表清单，当用户发送请求时，负载均衡器接收到请求根据轮训、随机、加权等算法从可用服务列表中取出一台服务器的地址，进行请求转发，完成负载的功能。Nginx是Web应用服务领域使用最为广泛的负载系统，是一种服务端负载均衡方式。而Ribbon是一种客户端负载均衡方式。

#### 1. 负载均衡算法

负载均衡算法决定后端的哪些健康服务会被选中。使用算法的前提条件是定一个服务器列表，每个负载均衡的算法会从中挑出一个服务器作为算法的结果。

* 轮循均衡

  > 每一次来自网络的请求轮流分配给内部的服务器。

* 权重轮循均衡

  > 根据服务器的不同处理能力，给每个服务器分配不同的权值，使其能够接受相应权值数的服务请求

* 随机均衡

  > 把请求随机分配给内部的服务器

* 权重随机均衡

  > 类似权重轮循均衡算法，只是在处理请求时是个随机的过程

* 响应速度均衡

  > 负载均衡设备对内部各服务器发出一个探测请求比如ping，然后根据内部各服务器对探测请求的最快响应时间来决定让哪个服务器来响应客户端的服务请求。

* 最少连接数均衡

  > 对内部的每个服务器都会记录当前服务器正在处理的连接数量，当有新的服务连接请求时，将把当前请求分配给连接数最少的服务器

* DNS响应均衡

  > 分处在不同地理位置的负载均衡设备收到一个客户端的域名解析请求，在同一时间内把此域名解析成与此负载均衡设备在同一地理位置的服务器的IP地址，适用于全局负载均衡，不适用于本地负载均衡。



参考资料

[1] 微服务架构深度解析
